<template>
    <template if:true={checklist}>
    <lightning-tabset variant={tabsetVariant}>
        <template for:each={checklist} for:item="data">
            <lightning-tab
                key={data.section}
                label={data.label}
                icon-name={data.icon}
            >
                <c-question-list
                    onsave={handleSave}
                    record-id={recordId}
                    questions={data.items}
                    fields={data.section}
                ></c-question-list>
            </lightning-tab>
        </template>
    </lightning-tabset>
    <lightning-card>
        <p class="slds-p-horizontal_small">
            Complete the checklist for each container to be packed.
            <strong
                >If ANY of the answers are “NO”, stop packing, alert your
                supervisor. DO NOT dispatch the container.</strong
            >
        </p>
        <p slot="footer" style="text-align: justify">
            Copyright to the CIG CTU Code: Container Packing Checklist September
            2022 is jointly held by the partners of the Cargo Integrity Group,
            comprising Bureau International des Containers et du Transport
            Intermodal (BIC), Container Owners Association (COA), International
            Federation of Freight Forwarders Associations (FIATA), Global
            Shippers Forum (GSF), International Cargo Handling Coordination
            Association (ICHCA International), TT Club and World Shipping
            Council (WSC). All rights reserved. All use, in any form or by any
            means, should appropriately attribute the copyright holders.
        </p>
    </lightning-card>        
    </template>
    <template if:false={checklist}>
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template>
</template>